@(infoDisplays: Iterable[InfoDisplay])(implicit request: CommonRequest[_])

@main() {
    @request.commonData.currentProject match {
        case None => {
            @if(request.commonData.projects.isEmpty) {
                <a href="@routes.ProjectsController.create()" class="btn btn-default">Создать проект</a>
            } else {
                <h1 class="page-header">Выберите проект</h1>
                <table class="table table-hover table-striped">
                @request.commonData.projects.map { project =>
                    <tr><td><a href="@routes.ApplicationController.selectProject(project.id)">@project.name</a></td></tr>
                }
                </table>
            }
        }
        case Some(project) => {
            <script src="@routes.Assets.at("javascript/index.js")" type="text/javascript"></script>
            <h1 class="page-header">@project.name
            <a href="@routes.InfoController.create()" class="btn btn-default">Добавить</a>
            </h1>
            <div class="list-group">
            @infoDisplays.map { info =>
                <a href="@routes.InfoController.edit(info.id)" class="list-group-item"
                style="padding-left : @(10 + 10 * info.level + "px")">
                    @info.name
                    <span class="badge badge-info">@info.childrenCount</span>
                </a>
            }
            </div>
        }
    }
}